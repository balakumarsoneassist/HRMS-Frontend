<form id="leadForm" class="ng-pristine ng-invalid ng-invalid-required ng-valid-pattern ng-valid-maxlength" #leadForm="ngForm">
    <div class="leadInputCategory mBorder rounded py-2 px-3 mb-3">
        <div class="leadCategoryTitle color-logo font-size-17 font-w-600 accordion cursor-pointer position-relative"><i class="fas fa-user pr-2"></i>Personal Details</div>
        <div class="panel">
            <div class="leadIpFlexCont pt-3 d-flex flex-wrap">
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">First Name*</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.FirstName" name="FirstName" id="FirstName" placeholder="Enter First Name" pattern="[A-Za-z]{1,32}">
                    <span class="errorMsg">*Enter Valid Name</span>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Last Name*</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.LastName" name="LastName" placeholder="Enter Last Name" pattern="[A-Za-z]{1,32}">
                    <span class="errorMsg">*Enter Valid Name</span>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Mobile Number*</label>
                    <input type="text" appPhoneNo class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" maxlength="12" [(ngModel)]="model.MobileNumber" name="MobileNumber" placeholder="Enter Mobile No." pattern="[0-9]{10}">
                    <span class="errorMsg">*Enter Valid Mobile Number</span>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Email*</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.Email" name="Email" placeholder="Enter Email Id" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$">
                    <span class="errorMsg">*Enter Valid Mail Id</span>
                </div>
                <div class="leadIpFitem formItem">
                    <label class="mb-1">Location*</label><br>
                    <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" placeholder="Enter Location" name="location" [(ngModel)]="model.LocationId" required #location="ngModel" [ngModelOptions]="{standalone: true}">
                        <option *ngFor="let item of LocationList;" value={{item.Id}}>{{item.Location}}</option>
                    </select>
                    <span class="errorMsg">*Enter the Location</span>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">D.O.B</label>
                   <p-calendar
  [(ngModel)]="model.DateOfBirth"
  name="DateOfBirth"
  inputId="testingDob"
  dateFormat="dd-mm-yy"
  showIcon="true"
  class="w-100 px-1 py-1 rounded mBorder bg-color-input color-initial border-header"
  placeholder="Enter D.O.B dd-mm-yyyy">
</p-calendar>

                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Pan No.</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.PanNumber" name="PanNumber" placeholder="Enter Pan No." pattern="[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}">
                    <span class="errorMsg">*Enter Valid Pan No.</span>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Addhar No.</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.AadharNumber" name="AadharNumber" placeholder="Enter Addhar No." pattern="^\d{4}\s\d{4}\s\d{4}$">
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Present Address</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.PresentAddress" name="PresentAddress" placeholder="Enter Present Address">
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Permenent Address</label>
                    <input type="text" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.PermanentAddress" name="PermanentAddress" placeholder="Enter Permenent Address">
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Gender*</label>
                    <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.Gender" name="Gender">
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Mariatel Status</label>
                    <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="model.MaterialStatus" name="MaterialStatus">
                        <option value="Single">Single</option>
                        <option value="Married">Married</option>
                    </select>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">No. Of Dependent</label>
                    <input type="text" placeholder="Enter No. Of Dependent" [(ngModel)]="model.NoOfDependent" name="NoOfDependent" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header">
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Education Qualifications</label>
                    <input type="text" placeholder="Enter Education Qualifications" [(ngModel)]="model.EducationalQualification" name="EducationalQualification" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header">
                </div>

            </div>
        </div>
    </div>
    <div class="leadInputCategory mBorder rounded py-2 px-3 mb-3">
        <div class="leadCategoryTitle color-logo font-size-17 font-w-600 cursor-pointer accordion position-relative"><i class="fas fa-user-tie pr-2"></i>Occupation Details</div>
        <div class="panel occupationPanel">
            <div class="overflowContainer occupationPanelOverFlow">
                <div class="leadIpFlexCont pt-3 d-flex flex-wrap" *ngFor="let occupation of model.OccupationDetails; let i= index;">
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">OccupationType*</label>
                        <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.Occupation" [ngModelOptions]="{standalone: true}">
                            <option value="Salaried">Salaried</option>
                            <option value="Self Employee">Self Employee</option>
                        </select>
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">IncomeType*</label>
                        <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.IncomeType" [ngModelOptions]="{standalone: true}">
                            <option  value="Bank Transfer">Bank Transfer</option>
                            <option  value="Cheque">Cheque</option>
                            <option  value="Cash">Cash</option>
                            <option  value="NonITR">NonITR</option>
                            <option  value="ITR">ITR</option>
                         <!--   <option *ngIf="occupation.Occupation=='Salaried'" value="Bank Transfer">Bank Transfer</option>
                            <option *ngIf="occupation.Occupation=='Salaried'" value="Cheque">Cheque</option>
                            <option *ngIf="occupation.Occupation=='Salaried'" value="Cash">Cash</option>
                            <option *ngIf="occupation.Occupation=='Self Employee'" value="NonITR">NonITR</option>
                            <option *ngIf="occupation.Occupation=='Self Employee'" value="ITR">ITR</option>   -->
                        </select>
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1 ">Company Name</label>
                        <input type="text" placeholder="Enter Company Name" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.CompanyName" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Company Address</label>
                        <input type="text" placeholder="Enter Company Address" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.CompanyAddress" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Designation</label>
                        <input type="text" placeholder="Enter Designation" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.Designation" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Joining Date</label>
                       <p-calendar
  [(ngModel)]="occupation.JoiningDate"
  [ngModelOptions]="{standalone: true}"
  placeholder="Enter Designation"
  dateFormat="dd-mm-yy"
  showIcon="true"
  class="w-100 px-1 py-1 rounded mBorder bg-color-input color-initial border-header">
</p-calendar>

                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Office Tel No.</label>
                        <input type="text" placeholder="Enter Office Tel No." class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.OfficeTelephoneNumber" [ngModelOptions]="{standalone: true}">
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Company GSTIN</label>
                        <input type="text" placeholder="Enter Company GSTIN" class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.CompanyGSTINNumber" [ngModelOptions]="{standalone: true}" pattern="[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[0-9]{1}[A-Z]{1}[0-9]{1}">
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Income*</label>
                        <div class="inputMoneyDiv position-relative">
                            <input type="text" placeholder="Enter Income" class="pl-4 pr-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.IncomeAmount" [ngModelOptions]="{standalone: true}">
                            <i class="fas fa-rupee-sign position-absolute"></i>
                        </div>
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1">Other Income</label>
                        <div class="inputMoneyDiv position-relative">
                            <input type="text" placeholder="Enter Other Income" class="pl-4 pr-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="occupation.OtherIncomeAmount" [ngModelOptions]="{standalone: true}">
                            <i class="fas fa-rupee-sign position-absolute"></i>
                        </div>
                    </div>
                    <div class="leadIpFitem mb-3">
                        <label class="mb-1 invisible">Action</label>
                        <div class="d-flex justify-content-between align-items-center">
                            <button class="border-0 px-3 py-1 font-w-600 color-white bg-color-logo rounded input-height" (click)="addFormGroup()">Add</button>
                            <button *ngIf="i !== 0" class="border-0 px-3  py-1 font-w-600 bg-danger color-white rounded input-height" (click)="deleteFormGroup(i)">Delete</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="leadInputCategory mBorder rounded py-2 px-3 mb-3">
        <div class="leadCategoryTitle accordion color-logo font-size-17 font-w-600 cursor-pointer position-relative"><i class="fas fa-university pr-2"></i>Bank Details</div>
        <div class="panel bankPanel">
            <div class="overflowContainer pt-3 bankPanelOverFlow">
                <table class="table font-w-600 color-initial mb-0">
                    <tr class="bg-color-ContHead color-gray">
                        <th>Bank Name</th>
                        <th>Branch</th>
                        <th>IFSC Code</th>
                        <th>Acc No.</th>
                        <th>Action</th>
                    </tr>
                    <tr *ngFor="let bank of model.BankDetails; let i= index;">
                        <td><select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="bank.BankName" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let item of BankList;" value={{item.BankName}}>{{item.BankName}}</option>
                        </select></td>
                        <!-- <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="bank.BankName" [ngModelOptions]="{standalone: true}"/></td> -->
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="bank.Branch" [ngModelOptions]="{standalone: true}"/></td>
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="bank.IfscCode" [ngModelOptions]="{standalone: true}" /></td>
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="bank.AccountNumber" [ngModelOptions]="{standalone: true}" /></td>
                        <td class="min-w-110">
                            <div class="d-flex justify-content-between">
                                <i class="fas fa-plus bg-color-logo px-2 py-2 rounded cursor-pointer color-white"(click)="addBankRow()"></i>
                                <i *ngIf="i !== 0" class="fas fa-trash bg-danger px-2 py-2 rounded cursor-pointer  color-white"(click)="deleteBankRow(i)"></i>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="existingLoanCon"></div>

    <div class="leadInputCategory mBorder rounded py-2 px-3 mb-3">
        <div class="leadCategoryTitle accordion color-logo font-size-17 font-w-600 cursor-pointer position-relative"><i class="fas fa-coins pr-2"></i>Loan Details</div>
        <div class="panel loanPanel">
            <!-- <div class="leadIpFlexCont d-flex flex-wrap pt-3">
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Loan Type</label>
                    <input type="text" placeholder="Enter Loan Type" ng-model="leadLoadType" class="px-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header">
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Loan Amount</label>
                    <div class="inputMoneyDiv position-relative">
                        <input type="text" placeholder="Enter Loan Amount" class="pl-4 pr-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header">
                        <i class="fas fa-rupee-sign position-absolute"></i>
                    </div>
                </div>
                <div class="leadIpFitem mb-3">
                    <label class="mb-1">Desired Loans Amount</label>
                    <div class="inputMoneyDiv position-relative">
                        <input type="text" placeholder="Enter Loan Amount" class="pl-4 pr-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header">
                        <i class="fas fa-rupee-sign position-absolute"></i>
                    </div>
                </div>

            </div> -->
            <div class="overflowContainer pt-3 loanPanelOverFlow">
                <table class="table font-w-600 color-initial mb-0">
                    <tr class="bg-color-ContHead color-gray testingClass">
                        <th>Bank</th>
                        <th>Branch</th>
                        <th>Loan Type</th>
                        <th>Loan Amount</th>
                        <th>ROI</th>
                        <th>Tenure (Year)</th>
                        <th>Dibursement Date</th>
                        <th>Action</th>
                    </tr>
                    <!-- <tr id="div1">
                      <th id="p1" class="testingClass">This is a paragraph.</th>
                      <th id="p2" class="testingClass">This is another paragraph.</th>
                    </tr> -->
                    <tr *ngFor="let loan of model.LoanHistory; let i= index;" class="testingClass">
                        <td><select class="px-2 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="loan.BankName" [ngModelOptions]="{standalone: true}">
                            <option *ngFor="let item of BankList;" value={{item.BankName}}>{{item.BankName}}</option>
                        </select></td>
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="loan.BranchName" [ngModelOptions]="{standalone: true}" /></td>
                        <td>
                            <select class="px-1 py-1 rounded mBorder w-100 bg-color-input color-initial border-header" [(ngModel)]="loan.LoanType" [ngModelOptions]="{standalone: true}">
                                <option>Personal Loan</option>
                                <option>Business Loan</option>
                                <option>Auto Loan-New</option>
                                <option>Auto Loan-Used</option>
                                <option>Jewel Loan</option>
                                <option>LAP</option>
                                <option>Home Loan-Self Construction</option>
                                <option>Home Loan-Resale</option>
                                <option>Home Loan-Builder Purchase</option>
                                <option>Land Loan</option>
                                <option>Land Loan+Construction</option>
                                <option>NRP</option>
                                <option>Commercial Vehicle Loan-New</option>
                                <option>Commercial Vehicle Loan-Used</option>
                            </select>
                        </td>
                        <!-- <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="loan.BankName" [ngModelOptions]="{standalone: true}" /></td> -->
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="loan.LoanAmount" [ngModelOptions]="{standalone: true}"/></td>
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="loan.ROI" [ngModelOptions]="{standalone: true}"/></td>
                        <td><input type="text" class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow" [(ngModel)]="loan.Tenure" [ngModelOptions]="{standalone: true}" /></td>
                        <td>
                          <p-calendar
  [(ngModel)]="loan.SanctionDate"
  [ngModelOptions]="{standalone: true}"
  placeholder="Select Sanction Date"
  dateFormat="dd-mm-yy"
  showIcon="true"
  class="rounded w-100 px-2 py-1 color-initial border-header bg-color-input boxShadow">
</p-calendar>

                        </td>
                        <td class="min-w-110">
                            <div class="d-flex justify-content-between">
                                <i class="fas fa-plus bg-color-logo px-2 py-2 rounded cursor-pointer color-white"(click)="addLoanRow()"></i>
                                <i *ngIf="i !== 0" class="fas fa-trash bg-danger px-2 py-2 rounded cursor-pointer  color-white"(click)="deleteLoanRow(i)"></i>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div class="d-flex justify-content-end">
        <input type="submit" value="Save" (click)="LeadPersonalDetailSubmit(true);" class="leadInputSubmit bg-color-logo color-white border-0 rounded px-4 py-2 font-w-600">
        &nbsp;&nbsp;
        <input type="submit" [hidden]="isSaveAndClose" value="Save & Close" (click)="LeadPersonalDetailSubmit(false);" class="leadInputSubmit bg-color-logo color-white border-0 rounded px-4 py-2 font-w-600">
    </div>
</form>


