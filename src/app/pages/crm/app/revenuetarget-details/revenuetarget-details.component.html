<p-toast></p-toast>

<p-dialog
  header="Revenue Generation - {{ ename }} - {{ finyear }}"
  [(visible)]="displayDialog"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '90vw' }"
  [breakpoints]="{ '960px': '95vw' }"
  [baseZIndex]="10000"
  (onHide)="closeDialog()"
>
  <!-- Loader -->
  <div *ngIf="loaderService.showLoader && loadSpin > 0" class="flex justify-content-center mb-3">
    <p-progressSpinner strokeWidth="4"></p-progressSpinner>
  </div>

  <!-- Search Input -->
  <div class="mb-3">
    <label for="searchStr" class="block font-medium mb-2">Search</label>
    <input
      id="searchStr"
      type="text"
      pInputText
      [(ngModel)]="searchStr"
      placeholder="Search..."
      class="w-full"
    />
  </div>

  <!-- Revenue Table -->
  <p-table
    [value]="AchieveList"
    [paginator]="true"
    [rows]="10"
    [globalFilterFields]="['Business', 'DisburseAmount', 'Sourcing', 'Revenue', 'monyear']"
    [rowsPerPageOptions]="[5, 10, 25]"
    responsiveLayout="scroll"
    [filterDelay]="0"
    [loading]="loaderService.showLoader && loadSpin > 0"
    class="p-datatable-sm"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Business</th>
        <th>Disburse Amount</th>
        <th>Source</th>
        <th>Payout %</th>
        <th>Revenue</th>
        <th>Month-Year</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-row>
      <tr>
        <td>{{ row.Business }}</td>
        <td>{{ row.DisburseAmount }}</td>
        <td>{{ row.Sourcing }}</td>
        <td>{{ row.Payout }}</td>
        <td>{{ row.Revenue }}</td>
        <td>{{ row.monyear }}</td>
      </tr>
    </ng-template>
  </p-table>
</p-dialog>
