<p-toast></p-toast>

<div class="card p-4">
  <h2 class="mb-4 text-xl font-bold">Daily Report</h2>

  <form [formGroup]="filterForm" (ngSubmit)="getDailyReport()" class="formgrid grid">
    <div class="field col-12 md:col-3">
      <p-floatLabel>
        <p-dropdown
          inputId="Assignee"
          formControlName="Assignee"
          [options]="EmpList"
          placeholder="Select Assignee"
        ></p-dropdown>
        <label for="Assignee">Assignee</label>
      </p-floatLabel>
    </div>

    <div class="field col-12 md:col-3">
      <p-floatLabel>
        <p-calendar
          formControlName="FromDate"
          showIcon="true"
          dateFormat="dd/mm/yy"
        ></p-calendar>
        <label>From Date</label>
      </p-floatLabel>
    </div>

    <div class="field col-12 md:col-3">
      <p-floatLabel>
        <p-calendar
          formControlName="ToDate"
          showIcon="true"
          dateFormat="dd/mm/yy"
        ></p-calendar>
        <label>To Date</label>
      </p-floatLabel>
    </div>

    <div class="field col-12 md:col-3 flex align-items-end">
      <button
        pButton
        type="submit"
        label="Get Report"
        icon="pi pi-search"
        class="p-button-primary w-full"
      ></button>
    </div>
  </form>
</div>

<div class="card p-4 mt-4">
  <p-table
    [value]="model"
    [paginator]="true"
    [rows]="10"
    [loading]="loading"
    [rowsPerPageOptions]="[10, 20, 50]"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="caption">
      <div class="flex justify-content-between align-items-center">
        <span class="text-xl font-bold">Daily User Report</span>
        <span class="p-input-icon-left">
          <i class="pi pi-search"></i>
          <input
            pInputText
            placeholder="Global Search"
            formControlName="SearchText"
            (input)="getDailyReport()"
          />
        </span>
      </div>
    </ng-template>

    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Mobile Number</th>
        <th>Track Number</th>
        <th>Location</th>
        <th>Appointment Date</th>
        <th>Status</th>
        <th>Notes</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
      <tr>
        <td>{{ row.Name }}</td>
        <td>{{ row.MobileNumber }}</td>
        <td>{{ row.TrackNumber }}</td>
        <td>{{ row.Location }}</td>
        <td>{{ row.AppointmentDate }}</td>
        <td>{{ row.Status }}</td>
        <td>{{ row.Notes }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>

<!-- paginator details -->
<div class="flex justify-content-between align-items-center mt-4 font-semibold text-sm">
  <div>Showing {{ StartNo }} to {{ EndNo }} of {{ TotalRecordNo }} Records</div>
  <div class="flex align-items-center gap-2">
    <button
      pButton
      icon="pi pi-angle-left"
      class="p-button-sm"
      [disabled]="!IsbtnPreviousEnable"
      (click)="GoToPreviousPage()"
    ></button>
    <span>{{ ManualPageInput }} of {{ TotalNumberOfPages }} pages</span>
    <button
      pButton
      icon="pi pi-angle-right"
      class="p-button-sm"
      [disabled]="!IsbtnNextEnable"
      (click)="GoToNextPage()"
    ></button>
  </div>
</div>
