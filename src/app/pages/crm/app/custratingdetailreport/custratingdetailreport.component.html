<p-toast></p-toast>

<div class="card">
  <div
    class="bg-color-ContHead d-flex flex-row justify-between flex-nowrap py-2 px-3 font-w-600 align-items-center border-b rounded"
  >
    <div class="font-size-19">Customer Report</div>
  </div>

  <div class="bg-color-ContBody1 px-3 py-3 rounded">
    <div class="mb-3">
      <input
        pInputText
        placeholder="Search..."
        [formControl]="searchStr"
        class="w-full sm:w-30rem"
      />
    </div>

    <p-table
      [value]="statusList"
      [paginator]="true"
      [rows]="10"
      [globalFilterFields]="['firstname', 'mobilenumber', 'tracknumber']"
      class="p-datatable-sm"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Mobile</th>
          <th>Track No</th>
          <th>Modified On</th>
          <th></th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td>{{ row.id }}</td>
          <td>{{ row.firstname }}</td>
          <td>{{ row.mobilenumber }}</td>
          <td>{{ row.tracknumber }}</td>
          <td>{{ row.modifiedon }}</td>
          <td class="text-center">
            <button
              pButton
              label="View"
              icon="pi pi-eye"
              class="p-button-sm"
              (click)="openTrackHistory(row.tracknumber)"
            ></button>
          </td>
          <td class="text-center">
            <button
              pButton
              label="Track"
              icon="pi pi-search"
              class="p-button-sm"
              (click)="callStatus(row.tracknumber, row.id)"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>

<!-- Track History Dialog -->
<p-dialog
  header="Track History"
  [(visible)]="displayTrackHistory"
  [modal]="true"
  [style]="{ width: '80vw' }"
>
  <app-call-track-history></app-call-track-history>
</p-dialog>

<!-- Lead Form Dialog -->
<p-dialog
  header="Lead Form"
  [(visible)]="displayLeadForm"
  [modal]="true"
  [style]="{ width: '80vw' }"
>
  <app-lead-form-model></app-lead-form-model>
</p-dialog>
