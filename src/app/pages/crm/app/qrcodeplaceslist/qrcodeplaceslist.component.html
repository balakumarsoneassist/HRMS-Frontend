<p-toast></p-toast>

<div class="flex flex-column gap-3 p-3">
  <div class="bg-color-ContHead flex justify-content-between align-items-center py-2 px-3 font-w-600 border-b rounded">
    <div class="text-xl">QR Code Shops List</div>
  </div>

  <div class="bg-color-ContBody1 p-3 rounded">
    <div class="flex align-items-center gap-3 mb-3">
      <p-floatLabel class="w-full sm:w-20rem">
        <input
          pInputText
          id="shopSearch"
          [(ngModel)]="shopsFilter"
          (ngModelChange)="getShopsList()"
          placeholder=""
        />
        <label for="shopSearch">Search</label>
      </p-floatLabel>
    </div>

    <p-table
      [value]="model.QrshopsList"
      responsiveLayout="scroll"
      class="font-w-600"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Contact Person</th>
          <th>City</th>
          <th>Mobile No.</th>
          <th>Refer By</th>
          <th>Action</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-row>
        <tr>
          <td>{{ row.Name }}</td>
          <td>{{ row.ContactPerson }}</td>
          <td>{{ row.City }}</td>
          <td>{{ row.MobileNumber }}</td>
          <td>{{ row.Referer }}</td>
          <td>
            <button
              pButton
              size="small"
              icon="pi pi-pencil"
              (click)="openShopDialog(row.Id)"
              label="Edit"
            ></button>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <div class="flex justify-content-between flex-wrap mt-4 mb-2 font-w-600">
      <div class="align-self-center text-center">
        Showing {{ StartNo }} to {{ EndNo }} of {{ TotalRecordNo }} Records
      </div>
      <div class="flex align-items-center gap-2">
        <button
          pButton
          icon="pi pi-angle-left"
          (click)="GoToPreviousPage()"
          [disabled]="!IsbtnPreviousEnable"
        ></button>
        <span>{{ ManualPageInput }} of {{ TotalNumberOfPages }} pages</span>
        <button
          pButton
          icon="pi pi-angle-right"
          (click)="GoToNextPage()"
          [disabled]="!IsbtnNextEnable"
        ></button>
      </div>
    </div>
  </div>
</div>

<!-- QR Shop Form Modal -->
<p-dialog
  header="QR Shop"
  [(visible)]="showQrDialog"
  [modal]="true"
  [style]="{width: '50vw'}"
  [dismissableMask]="true"
>
  <app-qrcodeplaces></app-qrcodeplaces>
</p-dialog>
