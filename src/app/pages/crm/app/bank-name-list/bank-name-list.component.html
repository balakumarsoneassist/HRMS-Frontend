<p-toast></p-toast>

<div class="card p-4">
  <h2 class="mb-4 text-xl font-bold">Bank List</h2>

  <form [formGroup]="form" (ngSubmit)="GetBankNameList()" class="flex flex-wrap gap-3 mb-3 align-items-end">
    <div class="flex-1">
      <p-floatLabel>
        <input
          pInputText
          id="search"
          formControlName="search"
          placeholder="Search"
        />
        <label for="search">Search</label>
      </p-floatLabel>
    </div>
    <div>
      <button
        pButton
        type="submit"
        icon="pi pi-search"
        label="Search"
      ></button>
    </div>
  </form>

  <p-table
    [value]="BankList"
    [paginator]="true"
    [rows]="10"
    [loading]="loading"
    [rowsPerPageOptions]="[10, 20, 50]"
    [globalFilterFields]="['BankName']"
    [filters]="{ global: { value: form.get('search')?.value, matchMode: 'contains' } }"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Bank Name</th>
        <th>Action</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-bank>
      <tr>
        <td>{{ bank.BankName }}</td>
        <td>
          <button
            pButton
            icon="pi pi-pencil"
            class="p-button-text p-button-sm"
            (click)="editBank(bank)"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
