<!-- <div class="carsSec"  >
  <router-outlet></router-outlet>
  </div> -->
<ng-container *ngIf="!hideOurBank">
  <section class="mb-3">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="modelContent newContactContainer bg-color-white boxShadow rounded">
            <!-- Header -->
            <div class="modelHeader d-flex flex-row py-2 px-3 font-w-600 font-size-19 align-items-center border-b bg-color-ContHead">
              <div>Our Bank Network</div>
            </div>

            <!-- Table & Content -->
            <div class="formContainer d-flex flex-column px-3 py-3 gap-3">
              <span class="rounded border-0 py-1 px-3 font-w-600 color-white bg-color-logo">
                Need Attention
              </span>

              <p-table
                [value]="DayDiffList"
                [paginator]="false"
                [rows]="DayDiffList.length"
                [responsiveLayout]="'scroll'"
                class="w-100 border-0 font-w-600"
              >
                <ng-template pTemplate="body" let-l>
                  <tr class="border-top-0">
                    <td class="ps-4 pe-0">
                      <span class="rounded border-0 py-1 px-3 font-w-600 color-white bg-color-blue">
                        {{ l.BankName }}
                      </span>
                    </td>
                    <td class="px-2">- Bank Code Expired in</td>
                    <td>
                      <span class="rounded border-0 py-1 px-3 font-w-600 color-white bg-color-pink bg-color-pink1">
                        {{ l.Daydiff }}
                      </span>
                      &nbsp;&nbsp;days...
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>

            <!-- View/Hide Button -->
            <div class="d-flex justify-content-end pe-4 pb-3">
              <p-button
                *ngIf="!hideViewBankList"
                label="View Bank List"
                class="bg-color-logo text-white font-w-600"
                (onClick)="OpenBankNetworkDetails()"
              ></p-button>

              <p-button
                *ngIf="hideViewBankList"
                label="Hide Bank List"
                class="bg-color-brown text-white font-w-600 ms-2"
                (onClick)="CloseBankNetworkDetails()"
              ></p-button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ng-container>


<p-toast></p-toast>

<!--OUR BANK LIST START-->
<ng-container *ngIf="!hideOurbankDetails">
  <section class="mb-3">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <!-- Header -->
          <div
            class="bg-color-ContHead d-flex justify-content-between align-items-center py-2 px-3 border-b rounded"
          >
            <!-- Left Title -->
            <div class="font-size-19 font-w-600">Our Bank List<span> <p-button
              label="Add"
              icon="pi pi-plus"
              class="bg-color-logo text-white border-0 font-w-600"
              styleClass="px-4 py-2"
              (onClick)="AddourBank()"
            ></p-button></span></div>

          </div>

          <!-- PrimeNG Table -->
          <div class="bg-color-ContBody1 px-3 py-3 rounded">
            <p-table
              [value]="OurbModel"
              responsiveLayout="scroll"
              class="p-datatable-gridlines font-w-600"
            >
              <ng-template pTemplate="header">
                <tr>
                  <th>Bank Name</th>
                  <th>Code</th>
                  <th>Expired Date</th>
                  <th></th>
                </tr>
              </ng-template>

              <ng-template pTemplate="body" let-bank>
                <tr>
                  <td>{{ bank.Bankname }}</td>
                  <td>{{ bank.Code }}</td>
                  <td>{{ bank.Expiredt }}</td>
                  <td>
                    <button
                      pButton
                      icon="pi pi-pencil"
                      class="p-button-text p-button-sm"
                      (click)="editOurBank(bank.Id)"
                    ></button>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>
    </div>
  </section>
</ng-container>



<!--OUR BANK LIST END-->

<section class="mb-3">
  <p-tabs [(value)]="activeTabIndex">
    <p-tablist>
      <p-tab *ngIf="objEmployeeModel?.IsContactRights" header="Review" [value]="0">OnReview</p-tab>
      <p-tab *ngIf="objEmployeeModel?.IsContactRights" header="Contact" [value]="1">OnTrackContact</p-tab>
      <p-tab *ngIf="objEmployeeModel?.IsLeadRights" header="Lead" [value]="2">OnTrackLead</p-tab>
    </p-tablist>

    <p-tabpanels>
      <!-- Review -->
      <p-tabpanel [value]="0">
        <app-onreview></app-onreview>
      </p-tabpanel>

      <!-- Contact with subpanels -->
      <p-tabpanel [value]="1">
        <div class="flex mb-2 gap-2 justify-end">
          <p-button (onClick)="value = 1"  styleClass="w-auto h-8 p-0" [outlined]="value !== 1" label="Track" />
          <p-button (onClick)="value = 2"  styleClass="w-auto h-8 p-0" [outlined]="value !== 2" label="UnTrack" />
        </div>
        <ng-container *ngIf="value === 1">
          <app-on-track-contact></app-on-track-contact>
        </ng-container>
        <ng-container *ngIf="value === 2">
          <app-un-track-contact></app-un-track-contact>
        </ng-container>
      </p-tabpanel>

      <!-- Lead with subpanels -->
      <p-tabpanel [value]="2">
        <div class="flex mb-2 gap-2 justify-end">
          <p-button (onClick)="values = 3"  styleClass="w-auto h-8 p-0" [outlined]="values !== 3" label="Track" />
          <p-button (onClick)="values = 4"  styleClass="w-auto h-8 p-0" [outlined]="values !== 4" label="Untrack" />
        </div>
        <ng-container *ngIf="values === 3">
          <app-on-track-lead></app-on-track-lead>
        </ng-container>
        <ng-container *ngIf="values === 4">
          <app-un-track-lead></app-un-track-lead>
        </ng-container>
      </p-tabpanel>
    </p-tabpanels>
  </p-tabs>
</section>

<p-dialog header="Add Our Bank" [(visible)]="showOurBankModal" [modal]="true" [closable]="true" [style]="{ width: '50vw' }" [contentStyle]="{ padding: '0' }" [baseZIndex]="10000" [dismissableMask]="true">
    <app-add-ourbank-form></app-add-ourbank-form>
</p-dialog>
