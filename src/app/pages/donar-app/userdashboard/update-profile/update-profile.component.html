<div class="flex mt-8">
    <div class="card flex flex-col gap-6 w-full">
      <div class="font-semibold text-xl">Update Profile</div>

      <!-- Profile Photo Upload -->
      <div class="flex flex-col gap-2 w-full">
        <label for="profilePhoto">Profile Photo</label>
        <p-fileUpload name="photo" customUpload (uploadHandler)="onPhotoUpload($event)" mode="basic" auto="true" chooseLabel="Upload Photo"></p-fileUpload>
        <small class="text-muted">Max size 2MB. Formats: jpg, png.</small>
      </div>

      <!-- First and Last Name -->
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex flex-col gap-2 w-full">
          <label for="firstName">First Name</label>
          <input pInputText id="firstName" [(ngModel)]="form.firstName" (blur)="validateNames()" />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="lastName">Last Name</label>
          <input pInputText id="lastName" [(ngModel)]="form.lastName" (blur)="validateNames()" />
        </div>
      </div>
      <small class="text-red-500" *ngIf="nameInvalid">Names must contain only alphabets</small>

      <!-- Mobile & Email -->
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex flex-col gap-2 w-full">
          <label for="mobile">Mobile Number</label>
          <input pInputText id="mobile" [(ngModel)]="form.mobile" (blur)="validateMobile()" />
          <small class="text-red-500" *ngIf="mobileInvalid">Enter valid 10-digit mobile number</small>
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="email">Email ID</label>
          <input pInputText id="email" [(ngModel)]="form.email" (blur)="validateEmail()" />
          <small class="text-red-500" *ngIf="emailInvalid">Enter a valid email</small>
        </div>
      </div>

      <!-- Gender -->
      <div class="flex flex-col gap-2 w-full">
        <label for="gender">Gender</label>
        <p-dropdown id="gender" [options]="genderOptions" [(ngModel)]="form.gender" placeholder="Select Gender" class="w-full" optionLabel="label"></p-dropdown>
      </div>

      <!-- Address -->
      <div class="flex flex-col gap-2 w-full">
        <label for="address">Address</label>
        <textarea pTextarea id="address" rows="4" [(ngModel)]="form.address"></textarea>
      </div>

      <!-- State & Zip -->
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex flex-col gap-2 w-full">
          <label for="state">State</label>
          <p-dropdown id="state" [options]="stateOptions" [(ngModel)]="form.state" placeholder="Select State" class="w-full" optionLabel="label"></p-dropdown>
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="zip">Zip</label>
          <input pInputText id="zip" [(ngModel)]="form.zip" />
        </div>
      </div>

      <!-- Donor Category & Purpose -->
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex flex-col gap-2 w-full">
          <label for="donorCategory">Donor Category</label>
          <p-dropdown id="donorCategory" [options]="donorCategories" [(ngModel)]="form.donorCategory" placeholder="Select Category" class="w-full" optionLabel="label"></p-dropdown>
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="donationPurpose">Donation Purpose</label>
          <p-dropdown id="donationPurpose" [options]="donationPurposes" [(ngModel)]="form.donationPurpose" placeholder="Select Purpose" class="w-full" optionLabel="label"></p-dropdown>
        </div>
      </div>

      <!-- Password Change Section -->
      <div class="font-semibold text-lg mt-4">Change Password (Optional)</div>
      <div class="flex flex-col md:flex-row gap-6">
        <div class="flex flex-col gap-2 w-full">
          <label for="currentPassword">Current Password</label>
          <input pInputText id="currentPassword" type="password" [(ngModel)]="form.currentPassword" class="w-full" />
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="newPassword">New Password</label>
          <input
            pInputText
            id="newPassword"
            type="password"
            [(ngModel)]="form.newPassword"
            (blur)="validatePassword()"
            class="w-full"
          />
          <small class="text-red-500" *ngIf="passwordInvalid">Minimum 8 chars, include letter, number & symbol</small>
        </div>
        <div class="flex flex-col gap-2 w-full">
          <label for="confirmNewPassword">Confirm New Password</label>
          <input
            pInputText
            id="confirmNewPassword"
            type="password"
            [(ngModel)]="form.confirmNewPassword"
            (blur)="checkPasswordsMatch()"
            class="w-full"
          />
          <small class="text-red-500" *ngIf="passwordMismatch">Passwords do not match</small>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="flex justify-end mt-4">
        <button pButton type="button" label="Update Profile" (click)="onSubmit()" class="p-button-primary"></button>
      </div>
    </div>
  </div>
