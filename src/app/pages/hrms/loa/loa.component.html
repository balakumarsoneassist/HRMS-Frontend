<div #letterContainer class="provisional-offer surface-card border-round p-4 line-height-3">
  <div class="header text-center">
    <img [src]="company.logo" class="logo mb-2" alt="Logo" width="120" />
    <h2 class="company-name">{{ company.name }}</h2>
    <p class="company-address">{{ company.address }}</p>
  </div>

  <h3 class="text-center mt-3">PROVISIONAL OFFER LETTER</h3>

  <p>Date: {{ today | date: 'dd MMM yyyy' }}</p>

  <p>Dear <strong>{{ user.user_name || '[Employee Name]' }}</strong>,</p>

  <p>
    We are pleased to offer you employment with <strong>{{ company.name }}</strong> as
    <strong>{{ user.designation || 'Software Developer' }}</strong> on the following terms:
  </p>

  <h4>Reporting & Posting</h4>
  <p>
    You will be reporting to your assigned reporting manager, and your place of posting will be
    <strong>{{ user.officeLocation || 'Coimbatore' }}</strong>.
    The Management reserves the right to transfer you between departments or branches as per business requirements.
  </p>

  <h4>Compensation During Probation</h4>
  <p>
    Your Cost to Company (CTC) during the probation period of 3 months will be
    <strong>₹{{ monthlyCTC | number: '1.0-0' }}/- per month</strong>.
    Your agreed Date of Joining (DOJ) is
    <strong>{{ user.doj | date: 'dd MMM yyyy' }}</strong>.
  </p>
  <p><em>Note: Appointment letter will be issued subject to successful background verification.</em></p>

  <h4>Probation & Confirmation</h4>
  <p>
    You will be on probation for a maximum of 3 months from your date of joining.
    Upon successful completion of probation, your employment will be confirmed in writing.
  </p>

  <h4>Compensation Post Confirmation</h4>
  <p>
    Upon successful completion of probation, your revised CTC will be communicated
    in your confirmation letter.
  </p>

  <h4>Validity of Offer</h4>
  <p>
    This offer letter is valid for 7 days from the date of issuance.
    Kindly acknowledge your acceptance within this period, failing which the offer will stand withdrawn.
  </p>

  <p>
    We look forward to your association with {{ company.name }} and wish you success in your career with us.
  </p>

  <h4 class="mt-4">ANNEXURE – 1</h4>
  <h5>Salary Structure</h5>

  <table class="salary-table w-full border-collapse mt-2">
    <thead>
      <tr class="bg-gray-100">
        <th class="border p-2 text-left">Component</th>
        <th class="border p-2 text-right">Monthly (₹)</th>
        <th class="border p-2 text-right">Annual (₹)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of salaryTable">
        <td class="border p-2">{{ item.component }}</td>
        <td class="border p-2 text-right">{{ item.monthly | number: '1.0-0' }}</td>
        <td class="border p-2 text-right">{{ item.annual | number: '1.0-0' }}</td>
      </tr>
    </tbody>
  </table>

  <h5 class="mt-4">Documents Required at Joining</h5>
  <ul>
    <li>PAN Card</li>
    <li>Aadhaar Card</li>
    <li>Current Residence Proof (Rental Agreement / Utility Bill)</li>
    <li>Educational Certificates – 10th, 12th & Degree</li>
    <li>Two References (with contact details)</li>
    <li>Parent / Guardian KYC (PAN / Aadhaar / ID proof)</li>
  </ul>

  <div class="signature mt-5 grid grid-nogutter justify-content-between">
    <div class="col">
      <p>For {{ company.name }}</p>
      <img [src]="company.sign" class="sign-img" alt="Signature" width="120" />
      <p><strong>{{ company.hr }}</strong><br />{{ company.hrTitle }}</p>
    </div>

    <div class="col text-right">
      <p><strong>Accepted and Agreed</strong></p>
      <p>{{ user.user_name || 'Employee Signature' }}</p>
    </div>
  </div>

  <footer class="mt-3 text-center small text-600">
    <p>{{ company.email }} | {{ company.website }} | {{ company.contact }}</p>
  </footer>
</div>

<div class="mt-3 text-center">
  <p-button label="Download PDF" icon="pi pi-download" (onClick)="downloadPDF()"></p-button>
</div>
